监控系统的7大作用

1. 实时采集监控数据
   2.实时反馈监控状态
   3.预知故障和告警
   4.辅助定位故障
   5.辅助性能调优
   6.辅助容量规划
   7.辅助自动化运维

监控系统有如下七大作用：

实时采集监控数据：包括硬件、操作系统、中间件、应用程序等各个维度的数据。
实时反馈监控状态：通过对采集的数据进行多维度统计和可视化展示，能实时体现监控对象的状态是正常还是异常。
预知故障和告警：能够提前预知故障风险，并及时发出告警信息。
辅助定位故障：提供故障发生时的各项指标数据，辅助故障分析和定位。
辅助性能调优：为性能调优提供数据支持，比如慢 SQL，接口响应时间等。
辅助容量规划：为服务器、中间件以及应用集群的容量规划提供数据支撑。
辅助自动化运维：为自动扩容或者根据配置的 SLA 进行服务降级等智能运维提供数据支撑。


______________________________________________________________________________________
监控对象

硬件监控

包括：电源状态、CPU 状态、机器温度、风扇状态、物理磁盘、raid 状态、内存状态、网卡状态。

②服务器基础监控

包括：

CPU：单个 CPU 以及整体的使用情况。
内存：已用内存、可用内存。
磁盘：磁盘使用率、磁盘读写的吞吐量。
网络：出口流量、入口流量、TCP 连接状态。
③数据库监控

包括：数据库连接数、QPS、TPS、并行处理的会话数、缓存命中率、主从延时、锁状态、慢查询。

④中间件监控

包括：

Nginx：活跃连接数、等待连接数、丢弃连接数、请求量、耗时、5XX 错误率。
Tomcat：最大线程数、当前线程数、请求量、耗时、错误量、堆内存使用情况、GC 次数和耗时。
缓存：成功连接数、阻塞连接数、已使用内存、内存碎片率、请求量、耗时、缓存命中率。
消息队列：连接数、队列数、生产速率、消费速率、消息堆积量。
⑤应用监控

包括：

HTTP 接口：URL 存活、请求量、耗时、异常量。
RPC 接口：请求量、耗时、超时量、拒绝量。
JVM：GC 次数、GC 耗时、各个内存区域的大小、当前线程数、死锁线程数。
线程池：活跃线程数、任务队列大小、任务执行耗时、拒绝任务数。
连接池：总连接数、活跃连接数。
日志监控：访问日志、错误日志。
业务指标：视业务来定，比如 PV、订单量等。



______________________________________________________________________________________
无论是开源的监控系统还是自研的监控系统，监控的整个流程大同小异。

一般都包括以下模块：

数据采集：采集的方式有很多种，包括日志埋点进行采集(通过 Logstash、Filebeat 等进行上报和解析)，JMX 标准接口输出监控指标，被监控对象提供 REST API 进行数据采集(如 Hadoop、ES)，系统命令行，统一的 SDK 进行侵入式的埋点和上报等。
数据传输：将采集的数据以 TCP、UDP 或者 HTTP 协议的形式上报给监控系统，有主动 Push 模式，也有被动 Pull 模式。
数据存储：有使用 MySQL、Oracle 等 RDBMS 存储的，也有使用时序数据库 RRDTool、OpentTSDB、InfluxDB 存储的，还有使用 HBase 存储的。
数据展示：数据指标的图形化展示。
监控告警：灵活的告警设置，以及支持邮件、短信、IM 等多种通知通道。